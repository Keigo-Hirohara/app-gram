---
title: "【学習メモ】ネットワーク構成"
date: "2024-06-13"
---

# ホームネットワークとインターネット

## ネットワークでよく聞くルーターって？

自宅にインターネット回線を導入すると、信号を変換する装置として「モデム」や「ONU」という機器が設置される。

これらの機器とパソコンを直接LANケーブルなどで接続すると、有線接続している1台しかインターネットを利用できない。

そのため、複数台の端末でインターネットを利用するには、ルーターが必須。

ルーターは、データ通信の交通整理をして道案内する役割をはたすため、ルーターをONUやモデムに接続してはじめて、複数台の端末をインターネットに接続できる。

### モデム

アナログ信号(電圧や電流の変化として表現される信号)とデジタル信号(0-1で表現された信号)を相互に変換する機器。

インターネットからやってくる信号はアナログ信号なので、インターネットに接続されたデバイスがやり取りできるようにデジタル信号に変換する必要がある。

### ONU

光信号(光ファイバー内を通る信号)とデジタル信号を相互に変換する機器。

## LAN

Local Area Networkの略

ルーターに接続され、お互いのデバイスが通信可能になっているネットワークのこと

大学内だとCAN(Campus)や地理的な距離になるとWAN(Wide)と呼ばれる

## ホスト

ネットワークに接続されたデバイスのこと

情報を送受信するデバイスだけでなく、受け取るのみのプリンターなどもデバイス。

## ホームネットワーク

家庭内で形成されているLAN

家庭がインターネットに接続されている(Wifiなど契約している)なら、ルーターがインターネットと接続されており、ルーターを介してデバイスがインターネットへ接続される

## プロトコル

ネットワークとネットワークが通信をする上で共通に決めている約束事。

その中の例として、TCPとIPがある。

TCP/IPによって相互に接続された世界規模のネットワークがインターネット。

## IPアドレス

ホストがネットワーク上のどこにあるのかを示した識別子のこと。

### グローバルIPアドレスとローカルIPアドレス

LAN内で識別されるIPアドレスがローカルIPアドレス。つまり、デバイスがWiFiに接続されていないとローカルIPアドレスは割り当てられない

インターネット上で識別されるのがグローバルIPアドレス。つまり、ネットワークを集約するLANがインターネットと接続される際に割り当てられている。また、スマホなどのWifiと接続しなくてもインターネットに接続できるデバイスには、デバイス自身にグローバルIPアドレスが割り当てられている。

ネットワークに接続したときに自動的にIPアドレスを割り当てる機能はTCP/IPが担っている。

# パケット通信

## ネットワーク通信の方式

### 回線交換方式

電話回線で用いられる方式。

通信しているホスト間の通信路を用意する方式。

電話回線の場合、複数のホストを相互に繋ぐには膨大な数の配線が必要になる。

10台の電話がそれぞれ全ての電話とつながっている場合、10\*9で81通りの回線ができることになる。

そこで、ホストを交換機に繋ぐことで、それぞれのホストに必要な電線を一本で済ませている。

交換機が通信対象のホストへ配線を繋ぎかえるようにして、通信経路を用意する。

### パケット交換方式

ホストが送信したい情報を細切れにして送受信する方式。

細切れにした情報をパケットと呼ぶ。

ホスト間に通信経路を用意するのではなく、一本の太いパイプが全ホストで共有されており、パイプが空いていれば送信可能。

ホストがパケットを送信している間は逆方向からのパケット送信はできないが、同方向のパケット通信に自分のパケットを刷り込ませることはできる。

#### パケットの構成

ヘッダ: 宛先などの制御情報

ペイロード: 細切れにしたデータ

送信するデータを細切れにしてパケットを生成することをパケット化、受信側がパケットのペイロードを取り出して元のデータを復元することを再構成と呼ぶ。

回線交換方式は送信先が一つしかないので、ヘッダは必要ない。

#### パケットの名称

通信プロトコルはTCP/IP以外も存在し、通信するプロトコルによってパケットの呼び名は変わる。

- イーサネット: フレーム

- UDP, IP: データグラム

- TCP: セグメント

- アプリケーション: メッセージ

## プロトコル階層化

TCP/IPはいくつものプロトコルで構成されている。

プロトコルは機能別に階層的に分類される。

- アプリケーション層: アプリケーション間のメッセージ交換の方式

- トランスポート層: アプリケーションの識別とアプリケーションへのサービス

- インターネット層: ネットワーク間の通信

- リンク層: 物理的な媒体で構成されたローカルネットワーク

### リンク層

送受されるデータをケーブルや無線などの媒体を介して電流や電波の形に変調されて伝わる。この時のコネクタの形状、データ変調方式、データの搬送方式がリンク層に属す。

### インターネット層

IPアドレス、LANにおけるルーターのルーティングがこれに属する。

### トランスポート層

ポート番号が指定するアプリケーションの識別機能はトランスポート層が担当する。

### アプリケーション層

メールやWebサービスをユーザーに提供する機能を提供する層。

アプリケーションのサービスによって、様々なプロトコルが存在する。
